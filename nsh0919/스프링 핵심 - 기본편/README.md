# 스프링 핵심 기본편 강의 정리

## 섹션 2 객체지향설계와 스프링
### 스프링 프레임워크
스프링의 핵심 기술들을 제공하는 기본 프레임워크를 의미한다.  
   
-DI 컨테이너, AOP   
-스프링 MVC (웹 기술)
-트랜잭션, JDBC, ORM, XML (데이터 접근)   
-테스트 기능 지원   
-자바뿐만 아니라 코틀린,그루비 언어도 지원   

### 스프링 부트
스프링을 편리하게 사용 할수 있게 도와주는 도구   
-단독으로 실행할 수 있는 스프링 애플리케이션을 쉽게 생성   
-Tomcat 같은 웹 서버가 내장 되어있음   
-손쉬운 빌드 구성을 위한 starter 종속성 제공

### 스프링의 핵심 
스프링은 자바 언어 기반의 프레임워크이고,   
자바 언어의 가장 큰 특징은 '객체 지향 언어'라는 것   
스프링은 DI,AOP 등등의 기능을 통해 살려내는 프레임워크임   

### 객체 지향 특징
-추상화   
복잡한 내용은 숨기고, 중요한 정보만 보여주는것   
-캡슐화   
객체의 속성과 기능을 하나로 묶고, 외부에서 함부로 접근 못하게 하는 것   
-상속   
기존 클래스을 재사용하여 새로운 클래스를 만드는 것   
-다형성   
같은 메서드 호출 이이어도 객체에 따라 다르게 동작하는 것   

### 객체 지향 프로그래밍
컴퓨터 프로그램을 명령어의 목록으로 보는 시각에서 벗어나   
여러 개의 독립된 단위, 즉 "객체"들의 모임으로 파악하고자 하는 것   
각각의 객체는 메시지를 주고 받고, 데이터를 처리할 수 있음   
프로그램을 유연하고 변경이 용이하게 만들어줌   

### 역할과 구현을 분리
역할과 구현으로 구분하면 단순해지고 변경도 편리해짐   

자바 언어의 다형성을 활용하여   
역할 = 인터페이스   
구현 = 인터페이스를 구현한 클래스, 구현 객체   
이런 방식으로 구현한다.

### 다형성의 본질
인터페이스를 구현한 객체 인스턴스를 실행 시점에 유연하게 변경할수 있음   
즉, 클라이언트를 변경 하지 않고 서버의 구현 기능을 유연하게 변경이 가능함

### 스프링과 객체 지향
스프링은 다형성을 극대화해서 이용할 수 있게 도와줌   
제어의 역전(IoC)과 의존관계 주입(DI)은 다형성을 활용해서   
역할의 구현을 편리하게 다룰수 있게 지원함   

### SOLID
좋은 객체 지향 설계를 위한 5가지 원칙   
SRP:단일 책임 원칙   
OCP:개방-패쇄 원칙   
LSP:리스코프 치환 원칙   
ISP:인터페이스 분리 원칙   
DIP:의존관계 연적 원칙   

### SRP (Single responsibility principle)
"단일 책임 원칙"   
한 클래스는 단 하나의 책임만 가져야함   
책임의 기준은 '변경'   
변경이 있을때 파급효과가 적어야함   

### OCP (Open/closed principle)
"개방-폐쇄 원칙"   
확장에는 열려있으나 변경에는 닫혀있어야 함   
다형성을 활용하여 역할과 구현을 분리하는 것   

### LSP (Liskov substitution principle)
"리스코프 치환 원칙"   
하위타입의 인스턴스로 바꿀때, 프로그램의 정확성을 깨뜨리지 말아야함   
단순히 컴파일을 성공하는 걸 넘어서   
기능의 구현이 정확해야함을 의미   

### ISP (Interface segregation principle)
"인터페이스 분리 원칙"   
특정 클라이언트를 위한 인터페이스 여러 개가   
범용 인터페이스 하나보다 나음   
인터페이스가 명확해지고 관련없는 다른 클라이언트에 영향을 안줌    

### DIP (Dependency inversion principle)
"의존관계 역전 원칙"   
구체화에 의존하지 말고 추상화에 의존해야함    
구현체에 의존하지 말고 인터페이스에 의존하라는 의미   

### OCP,DIP 위반 사례
```java
public class MemberService {
    
//  private MemberRepository memberRepository = new MemoryMemberRepository();
    private MemberRepository memberRepository = new JdbcMemberRepository();
}
```
위 코드는 구현 클래스를 변경하는 코드이다.   
구현 객체를 변경하려면 클라이언트 코드를 변경해야하므로   
OCP 원칙 위반이고   
클라이언트가 직접 구현 클래스를 선택하므로   
DIP 위반이다.   

### 스프링 컨테이너
스프링은 DI 컨테이너를 제공하여   
이러한 문제를 해결함   
OCP,DIP를 준수하며, 의존관계를 주입할수 있게 해줌   

## 섹션 3,4 스프링 핵심 원리 이해 
### 설정 클래스 별도 생성 (역할의 분리)
섹션 2에서 언급했듯   
OCP와 DIP를 위반하지 않으면서 어떻게 의존관계를 주입할까?   
기존 코드는 하나의 코드가 "기능 동작" 뿐만 아니라   
"구현 객체 생성,연결" 역할도 가지고 있었다.   
의존관계를 주입해주는 코드를 따로 만들어서 역할을 분리하여야한다.   
그리고 그 코드가 의존관계를 위해 인스턴스를 생성해야 하므로   
구현체 코드에 생성자 메서드를 추가해야한다.
그러면 OCP,DIP를 준수할수 있게 된다.   

### IoC (Inversion of Control)
위처럼 의존관계를 주입하는 코드를 따로 만들면   
프로그램의 제어흐름을 구현체가 직접 제어하는 것이 아니라   
외부에서 제어하는 형태가 된다.   
이를 '제어의 역전'(IoC)라고 한다.   

### DI (Dependency Injection)
의존관계는 정적인 '클래스 의존관계'와 동적인 '객체 의존관계'로    
분리해서 생각해야함
클래스 의존관계는 클래스가 사용하는 import 코드를 보고 의존관계를 파악할수있다.   
하지만 실제 어떤 객체가 주입되는지는 알 수 없다.   
객체 의존관계는 애플리케이션 실행 시점에 실제 생성된 객체 인스턴스의 참조가 연결된 의존관계임.   

### 컨테이너
이렇게 의존관계를 연결해주는 것을 IoC 컨테이너 또는 DI 컨테이너라고 함.   

### 스프링을 사용하여 DI 적용
DI를 적용하는 역할의 클래스에 @Configuration 어노테이션을 붙여주고   
각 메서드에 @Bean 어노테이션을 붙여준다.    

### 스프링 컨테이너 적용하기
ApplicationContext를 스프링 컨테이너라 한다.   
스프링 컨테이너는 @Configuration이 붙은 코드를 찾아   
여기서 @Bean이 적힌 메서드를 호출하여 반환된 객체를 등록한다.   
getBean 메서드를 사용하여 찾을수 있다.   




